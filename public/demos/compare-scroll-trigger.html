<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSAP vs Motion.dev: Live Comparison</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <style>
        :root { --gsap: #88ce02; --motion: #00ddff; --bg: #0b0e14; }
        body { background: var(--bg); color: #fff; font-family: 'Inter', sans-serif; margin: 0; overflow-x: hidden; }
        
        .header { text-align: center; height: 40vh; display: flex; flex-direction: column; justify-content: center; border-bottom: 1px solid #222; padding: 0 20px; }
        
        /* Grid Transition: Stack on Mobile, Side-by-Side on Desktop */
        .comparison-grid { 
            display: grid; 
            grid-template-columns: 1fr; 
            position: relative; 
        }

        @media (min-width: 768px) {
            .comparison-grid { grid-template-columns: 1fr 1fr; }
        }

        .column { border-bottom: 1px solid #222; position: relative; min-width: 0px;}
        
        @media (min-width: 768px) {
            .column { border-bottom: none; border-right: 1px solid #222; }
        }

        .label-fixed { 
            position: sticky; 
            top: 0; 
            z-index: 10; 
            padding: 15px; 
            text-align: center; 
            font-weight: bold; 
            font-size: 1.1rem; 
            background: rgba(11, 14, 20, 0.9); 
            backdrop-filter: blur(10px); 
            border-bottom: 1px solid #333;
        }
        
        .demo-viewport { height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; }
        
        .box { width: 70px; height: 70px; border-radius: 12px; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; font-size: 0.75rem; font-weight: bold; text-align: center; flex-shrink: 0; }
        .gsap-box { background: var(--gsap); color: #000; }
        .motion-box { background: var(--motion); color: #000; }
        
        .text-step { opacity: 0.1; font-size: 1.2rem; margin: 8px 0; transition: color 0.3s; }
        .active-text { color: white; opacity: 1 !important; }

        /* Motion.dev Sticky Simulation */
        .motion-sticky-container { height: 300vh; }
        .motion-sticky-content { position: sticky; top: 0; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; }

        /* Code Snippet - Adjusted for small screens */
        .code-snippet { 
            background: #161b22; 
            margin: 15px; 
            padding: 12px; 
            border-radius: 8px; 
            font-family: monospace; 
            font-size: 11px; 
            line-height: 1.4; 
            color: #d1d5db; 
            border: 1px solid #30363d; 
            text-align: left; 
            max-width: 90%;
            overflow-x: auto; /* Allow horizontal scroll for long code lines on mobile */
        }
        
        .footer-space { height: 60vh; display: flex; align-items: center; justify-content: center; background: #000; text-align: center; padding: 40px 20px; }
    </style>
</head>
<body>

    <div class="header">
        <h1>GSAP vs Motion.dev</h1>
        <p>A performance & workflow comparison</p>
        <div style="font-size: 2rem;">â†“</div>
    </div>

    <div class="comparison-grid">
        
        <div class="column" id="gsap-section">
            <div class="label-fixed" style="color: var(--gsap);">GSAP + ScrollTrigger</div>
            
            <div class="demo-viewport" id="gsap-trigger">
                <div class="box gsap-box">GSAP</div>
                <div class="text-step g-t1">1. Translation</div>
                <div class="text-step g-t2">2. Text Reveal</div>
                <div class="text-step g-t3">3. Rotation</div>
                
                <div class="code-snippet">
<pre>// GSAP: Timeline power
const tl = gsap.timeline({
  scrollTrigger: {
    trigger: "#gsap-trigger",
    pin: true,
    scrub: 1,
    start: "top top",
    end: "+=2000"
  }
});
tl.to(".gsap-box", { x: 80 })
  .to(".g-t1", { opacity: 1 }, "<")
  ...</pre>
                </div>
            </div>
        </div>

        <div class="column">
            <div class="label-fixed" style="color: var(--motion);">Motion.dev (Scroll)</div>
            
            <div class="motion-sticky-container" id="motion-trigger">
                <div class="motion-sticky-content">
                    <div class="box motion-box">MOTION</div>
                    <div class="text-step m-t1">1. Translation</div>
                    <div class="text-step m-t2">2. Text Reveal</div>
                    <div class="text-step m-t3">3. Rotation</div>

                    <div class="code-snippet">
<pre>// Motion: Manual offsets
scroll(
  animate(".motion-box", { 
    x: [0, 80, 80, 80],
    rotate: [0, 0, 0, 360] 
  }),
  { target: motionContainer }
);</pre>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="footer-space">
        <div>
            <h2>Verdict: GSAP Wins on Syntax</h2>
            <p>GSAP handles complex sequences with significantly less manual calculation.</p>
        </div>
    </div>

    <script type="module">
        import { animate, scroll } from "https://cdn.jsdelivr.net/npm/motion@11.11.13/+esm"

        // --- 1. GSAP IMPLEMENTATION ---
        gsap.registerPlugin(ScrollTrigger);
        
        // Use matchMedia to handle different pin lengths or behaviors per screen size
        let mm = gsap.matchMedia();

        mm.add("(min-width: 0px)", () => {
            const tl = gsap.timeline({
                scrollTrigger: {
                    trigger: "#gsap-trigger",
                    start: "top top",
                    end: "+=2000",
                    pin: true,
                    scrub: 1,
                    invalidateOnRefresh: true // Key for mobile orientation changes
                }
            });

            tl.to(".gsap-box", { x: 80, duration: 1 })
              .to(".g-t1", { opacity: 1, color: "#88ce02", duration: 1 }, "<")
              .to(".g-t2", { opacity: 1, color: "#88ce02", duration: 1 })
              .to(".g-t3", { opacity: 1, color: "#88ce02", duration: 1 })
              .to(".gsap-box", { rotation: 360, duration: 1 }, "<");
        });


        // --- 2. MOTION.DEV IMPLEMENTATION ---
        const motionContainer = document.getElementById('motion-trigger');
        
        scroll(
            animate(".motion-box", { 
                x: [0, 80, 80, 80, 80],
                rotate: [0, 0, 0, 0, 360]
            }),
            { target: motionContainer }
        );

        scroll(animate(".m-t1", { opacity: [0.1, 1, 1, 0.1] }, { offset: [0, 0.3, 0.4, 0.5] }), { target: motionContainer });
        scroll(animate(".m-t2", { opacity: [0.1, 0.1, 1, 0.1] }, { offset: [0, 0.4, 0.6, 0.7] }), { target: motionContainer });
        scroll(animate(".m-t3", { opacity: [0.1, 0.1, 0.1, 1] }, { offset: [0, 0.7, 0.8, 1] }), { target: motionContainer });

    </script>
</body>
</html>