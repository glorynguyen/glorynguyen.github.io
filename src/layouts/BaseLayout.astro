---
interface Props {
    title: string;
    description: string;
    keywords?: string;
    ogType?: string;
    ogTitle?: string;
    ogDescription?: string;
    ogUrl?: string;
    ogImage?: string;
    ogImageAlt?: string;
    twitterCard?: string;
    canonicalUrl?: string;
    structuredData?: object;
    preloadImage?: string;
}

const {
    title,
    description,
    keywords,
    ogType = 'website',
    ogTitle,
    ogDescription,
    ogUrl,
    ogImage,
    ogImageAlt,
    twitterCard = 'summary',
    canonicalUrl,
    structuredData,
    preloadImage,
} = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content={description}>
    {keywords && <meta name="keywords" content={keywords}>}
    <meta name="author" content="Vinh Nguyen (Vincent)">
    <meta name="robots" content="index, follow">

    <!-- Open Graph -->
    <meta property="og:type" content={ogType}>
    {ogTitle && <meta property="og:title" content={ogTitle}>}
    {ogDescription && <meta property="og:description" content={ogDescription}>}
    {ogUrl && <meta property="og:url" content={ogUrl}>}
    {ogImage && <meta property="og:image" content={ogImage}>}
    {ogImageAlt && <meta property="og:image:alt" content={ogImageAlt}>}

    <!-- Twitter -->
    <meta name="twitter:card" content={twitterCard}>
    {ogTitle && <meta name="twitter:title" content={ogTitle}>}
    {ogDescription && <meta name="twitter:description" content={ogDescription}>}
    {ogImage && <meta name="twitter:image" content={ogImage}>}
    {ogImageAlt && <meta name="twitter:image:alt" content={ogImageAlt}>}

    <!-- Canonical URL -->
    {canonicalUrl && <link rel="canonical" href={canonicalUrl}>}

    {preloadImage && <link rel="preload" href={preloadImage} as="image" type="image/webp" />}

    <title>{title}</title>

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="theme-color" content="#2563eb">

    <!-- Preconnect to external resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Structured Data -->
    {structuredData && (
        <script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
    )}

    <slot name="head" />
</head>
<body>
    <slot />
</body>
</html>
